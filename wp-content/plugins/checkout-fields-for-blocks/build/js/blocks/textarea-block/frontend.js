(()=>{"use strict";var e={20:(e,t,a)=>{var r=a(609),o=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,a){var r,c={},i=null,d=null;for(r in void 0!==a&&(i=""+a),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!n.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:i,ref:d,props:c,_owner:s.current}}t.jsx=c,t.jsxs=c},848:(e,t,a)=>{e.exports=a(20)},609:e=>{e.exports=window.React}},t={};const a=window.wc.blocksCheckout,r=window.wp.i18n,o=window.wp.element,l=window.wp.data,s=window.wc.wcBlocksData,n=window.wc.blocksComponents;function c(e){var t,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(a=c(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}const i=function(){for(var e,t,a=0,r="",o=arguments.length;a<o;a++)(e=arguments[a])&&(t=c(e))&&(r&&(r+=" "),r+=t);return r},d=window.wp.url,u={required:{validate:e=>e&&""!==e.trim()?null:(0,r.__)("This field is required.","checkout-fields-for-blocks")},email:{validate:e=>(0,d.isEmail)(e)?null:(0,r.__)("Please enter a valid email address.","checkout-fields-for-blocks")},phone:{validate:e=>e&&!/^\+?[\d\s()-]{10,}$/.test(e)?(0,r.__)("Please enter a valid phone number.","checkout-fields-for-blocks"):null},url:{validate:e=>{try{return new URL(e),null}catch{return(0,r.__)("Please enter a valid URL.","checkout-fields-for-blocks")}}},minLength:{validate:(e,t)=>e.length>0&&e.length<t.value?(0,r.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,r.__)("This field must be at least %d characters long.","checkout-fields-for-blocks"),t.value):null},maxLength:{validate:(e,t)=>e.length>0&&e.length>t.value?(0,r.sprintf)(/* translators: %d is the number of characters. */ /* translators: %d is the number of characters. */
(0,r.__)("This field must not exceed %d characters.","checkout-fields-for-blocks"),t.value):null},pattern:{validate:(e,t)=>new RegExp(t.value).test(e)?null:(0,r.__)("This field does not match the required pattern.","checkout-fields-for-blocks")}};var f=function a(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,a),l.exports}(848);const p=e=>{const{className:t="",disabled:a=!1,onChange:r,onBlur:o,placeholder:l,value:s=""}=e;return(0,f.jsx)("textarea",{className:i("wc-block-components-textarea",t),disabled:a,onChange:e=>{r(e.target.value)},onBlur:e=>o&&o(e.target.value),placeholder:l,rows:2,value:s})},h=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"checkout-fields-for-blocks/textarea","version":"0.1.0","title":"Textarea","description":"","category":"checkout-fields-for-blocks","example":{},"supports":{"html":true},"keywords":["checkout"],"parent":["woocommerce/checkout-totals-block","woocommerce/checkout-fields-block","woocommerce/checkout-contact-information-block","woocommerce/checkout-shipping-address-block","woocommerce/checkout-billing-address-block","woocommerce/checkout-shipping-method-block","woocommerce/checkout-shipping-methods-block","woocommerce/checkout-pickup-options-block"],"attributes":{"fieldId":{"type":"string","default":""},"fieldName":{"type":"string","default":""},"metaName":{"type":"string","default":""},"parentBlock":{"type":"string","default":""},"label":{"type":"string","default":""},"placeholder":{"type":"string","default":""},"defaultValue":{"type":"string","default":""},"helpText":{"type":"string","default":""},"inputType":{"type":"string","default":"text"},"className":{"type":"string","default":""},"validationSettings":{"type":"object","default":{"required":{"enabled":false},"minLength":{"enabled":false,"value":""},"maxLength":{"enabled":false,"value":""},"pattern":{"enabled":false,"value":""}}},"display":{"type":"object","default":{"orderConfirmation":"","orderAdmin":"","orderMyAccount":"","orderEmail":""}}},"textdomain":"checkout-fields-for-blocks","style":"file:./style-index.css"}');(0,a.registerCheckoutBlock)({metadata:h,component:e=>(({fieldId:e,fieldName:t,metaName:a,label:r,placeholder:c,className:d,defaultValue:h,validationSettings:m,helpText:k,checkoutExtensionData:b})=>{const{setExtensionData:g}=b,[w,v]=(0,o.useState)(h||""),[y,_]=(0,o.useState)(!0),x=`textarea-${e}`,E=(0,o.useMemo)((()=>JSON.parse(m||"{}")),[m]),{setValidationErrors:N,hideValidationError:T,clearValidationError:O}=(0,l.useDispatch)(s.VALIDATION_STORE_KEY),j=(0,l.useSelect)((e=>e(s.VALIDATION_STORE_KEY).getValidationError(x))),S=j?.message&&!j?.hidden,L=(0,o.useCallback)(((e=!0)=>{O(x);const t=((e,t)=>{for(const[a,r]of Object.entries(t))if(r.enabled&&u[a]){const t=u[a].validate(e,r);if(t)return t}return null})(w,E);t&&N({[x]:{message:t,hidden:e}})}),[O,x,N,w,E]);return(0,o.useEffect)((()=>{y&&(_(!1),L(!0))}),[y,_,L]),(0,o.useEffect)((()=>{g("checkout-fields-for-blocks",a,w)}),[g,a,w]),(0,f.jsxs)("div",{className:i(d,{"has-error":S}),children:[(0,f.jsx)(n.Label,{label:r,screenReaderLabel:r,wrapperElement:"label",wrapperProps:{htmlFor:e},htmlFor:e}),(0,f.jsx)(p,{id:e,value:w||"",placeholder:c,name:t,onChange:e=>{T(x),L(!0),v(e)},onBlur:()=>L(!1),"aria-invalid":S,"aria-errormessage":x}),k&&(0,f.jsx)("p",{className:"help-text",children:k}),S&&(0,f.jsx)(n.ValidationInputError,{errorMessage:j?.message,propertyName:x})]})})({...e,inputType:h.attributes?.inputType?.default})})})();