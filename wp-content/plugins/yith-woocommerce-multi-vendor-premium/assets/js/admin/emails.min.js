(()=>{"use strict";var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var a=o.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}function o(e,t){for(var o=0;o<t.length;o++){var a=t[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,n(a.key),a)}}const a={xhr:!1,block:function(e){e&&e.length&&void 0!==jQuery.fn.block&&(e.addClass("ajax-blocked"),e.block({message:null,overlayCSS:{background:"#fff no-repeat center",opacity:.5,cursor:"none"}}))},unblock:function(e){e&&e.hasClass("ajax-blocked")&&void 0!==jQuery.fn.block&&(e.unblock(),e.removeClass("ajax-blocked"))},call:function(e,t,n){var o=this;return n=void 0!==n?n:"GET",Array.isArray(e)?(e.push({name:"action",value:yith_wcmv_ajax.ajaxAction}),e.push({name:"security",value:yith_wcmv_ajax.ajaxNonce}),e.push({name:"context",value:"admin"})):(e.action=yith_wcmv_ajax.ajaxAction,e.security=yith_wcmv_ajax.ajaxNonce,e.context="admin"),o.block(t),o.xhr=jQuery.ajax({url:yith_wcmv_ajax.ajaxUrl,data:e,type:n}).fail((function(e){console.log(e),o.unblock(t)})).done((function(e){o.unblock(t),o.xhr=!1})),o.xhr},get:function(e,t){return this.call(e,t,"GET")},post:function(e,t){return this.call(e,t,"POST")},abort:function(){this.xhr&&this.xhr.abort()}};var i=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=jQuery("#emails-container");t.on("change",".single-email-toggle-active .on_off",this.toggleActive),t.on("click",".single-email-toggle-editing a",this.toggleSettings),t.on("submit",".single-email-settings-form",this.saveSettings)},(t=[{key:"toggleActive",value:function(){var e=jQuery(this),t=e.closest(".single-email"),n=t.attr("data-key");window.onbeforeunload="",a.call({request:"email_active_toggle",email:n,status:e.is(":checked")?"yes":"no"},t,"POST").fail((function(t){console.log(t),e.attr("checked",!e.is(":checked"))}))}},{key:"toggleSettings",value:function(e){e.preventDefault(),jQuery(this).closest(".single-email").toggleClass("opened").find(".single-email-options").slideToggle()}},{key:"saveSettings",value:function(e){e.preventDefault();var t=jQuery(this),n=t.closest(".single-email");window.onbeforeunload="",a.call(t.serializeArray(),n,"POST").done((function(e){var n=t.find(".single-email-save"),o=n.val();n.val(n.attr("data-saved-message")),setTimeout((function(){n.val(o)}),5e3)})).fail((function(e){console.log(e),input.attr("checked",!input.is(":checked"))}))}}])&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();jQuery("#emails-container .single-email").length&&new i;var r=window;for(var l in e)r[l]=e[l];e.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();